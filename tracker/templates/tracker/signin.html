{% extends "tracker/base.html" %}

{% load static %}

{% block template_css %}
    <link rel="stylesheet" type="text/css" href="{% static 'tracker/css/signin.css' %}" />
{% endblock %}

{% block template_content %}
    <div class="container">
        <div class="row justify-content-center main">
            <div class="col-md-6 col-sm-8 col-10">
                <form method="post" class="form-signin" action="{% url 'tracker:signin' %}">
                    {% csrf_token %}
                    <h2 class="form-signin-heading">Sign in</h2>
                    {% if form.non_field_errors %}
                        <div class="alert alert-danger alert-dismissible fade show">
                            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                            {% for error in form.non_field_errors %}
                                {% if forloop.counter > 1 %}
                                    <hr>
                                {% endif %}
                                {{ error|escape }}
                            {% endfor %}
                        </div>
                    {% endif %}
                    <div class="form-group">
                        {{ form.username }}
                        {{ form.password }}
                    </div>
                    {% if request.GET.next %}
                        <input type="hidden" name="next" value="{{ request.GET.next }}"/>
                    {% endif %}
                    <button class="btn btn-lg btn-primary btn-block" type="submit">Sign in</button>
                </form>
            </div>
        </div>
    </div>
{% endblock %}
